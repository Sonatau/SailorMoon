<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
          <ion-button color="medium" expand="block" fill="clear" shape="round" [routerLink]="['/tabs/course']">
              <ion-icon slot="start" name="chevron-back-outline"></ion-icon>
          </ion-button>
      </ion-buttons>
      <ion-title style="text-align:center;margin-right: 30px;">创建班课</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form (ngSubmit)="onCreate(createForm)" #createForm="ngForm" novalidate>
      <ion-list lines="full">
 
        <ion-item-divider color="stable">
          <!-- <ion-thumbnail *ngIf="course_cover != 'image_null'" slot="start"> -->
            <img *ngIf="course_cover != 'image_null'" slot="start" class="cover_img"
              src={{course_cover}}>
          <!-- </ion-thumbnail> -->
          <!-- <ion-thumbnail slot="start" (click)="onPresentActiveSheet()"> -->
            <img *ngIf="course_cover == 'image_null'" slot="start" class="cover_img"
            (click)="addPicture()" src="assets/img/course/add.png">
          <!-- </ion-thumbnail> -->
        </ion-item-divider>

        <ion-item (click)="openPicker(0,'term')">
          <ion-label slot="start">班课学期</ion-label>
          <ion-note class="my_inf" slot="end">{{termChoosed.name}}</ion-note>
        </ion-item>

        <ion-item (click)="openPicker(0, 'lesson')">
          <ion-label slot="start">选择已有课程</ion-label>
          <ion-note class="my_inf" slot="end">{{lessonChoosed.name}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label slot="start">(或)自定义课程</ion-label>
          <ion-input name="lesson" type="text" class="my_inf" slot="end"
            placeholder="未设置" [(ngModel)]="course_lesson" #lesson="ngModel">
          </ion-input>
        </ion-item>
        <div class="signup_warn">
          <ion-text text-left color="danger" *ngIf="(lesson.touched) && (course_lesson==null && lessonChoosed.name=='请选择')">
            <p class="warn" padding-start>请选择课程或自定义课程！</p>
          </ion-text>
        </div>

        <ion-item>
          <ion-label slot="start">班级名称</ion-label>
          <ion-input name="name" type="text" class="my_inf" slot="end"
            placeholder="未设置" [(ngModel)]="course_name" #name="ngModel" required>
          </ion-input>
        </ion-item>

        <ion-item (click)="openPicker(0, 'school')">
          <ion-label slot="start">开设学校</ion-label>
          <ion-note class="my_inf" slot="end">{{schoolChoosed.name}}</ion-note>
        </ion-item>

        <ion-item (click)="openPicker(1, 'academy')">
          <ion-label slot="start">开设学院</ion-label>
          <ion-note class="my_inf" slot="end">{{academyChoosed.name}}</ion-note>
        </ion-item>

        <ion-row style="margin: top 30px;" class="row">
          <ion-button color="primary" type="submit" class="btn"
          [disabled]="createForm.invalid"> 创建班课 </ion-button>
        </ion-row>
      </ion-list>
  </form>

</ion-content>